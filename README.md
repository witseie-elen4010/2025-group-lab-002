# Suspect 404

[![Coverage Status](https://coveralls.io/repos/github/witseie-elen4010/2025-group-lab-002/badge.svg)](https://coveralls.io/github/witseie-elen4010/2025-group-lab-002)

A real-time web-based deception and deduction game inspired by "Undercover" and "Spyfall". Players receive hidden roles and attempt to uncover the imposter through clues and social deduction.

## 👥 Contributors
- Aaliyah Noorbhai  
- Rizwaanah Seedat  
- Glen McKenzie  
- Noah Disler  

---

## 🕹️ Features

- Real-time multiplayer gameplay using **Socket.IO**
- Dynamic lobby creation with room codes
- Role assignment with civilian, undercover, and Mr. White logic
- Interactive clue and voting rounds
- In-game chat with history and discussion timer
- Admin panel for user and log management
- Player can leave the lobby or game; room updates for remaining players
- Player reconnection support if disconnected
- Unit & integration tests with Jest and Supertest
- Code coverage tracked with Coveralls
- Guests get a randomly generated quirky username

---

## 🛠️ Tech Stack

- **Node.js**, **Express.js**
- **Socket.IO**
- **PostgreSQL** with **Sequelize ORM**
- **Bootstrap 5** for responsive styling
- **Jest**, **Supertest**, **JSDOM** for testing

---

## 🚀 Getting Started

### 1. Clone the repo

```bash
git clone https://github.com/YOUR_USERNAME/Suspect404.git
cd Suspect404
```

### 2. Running the App

```bash
npm start
```

### 3. Running the tests
```bash
npm test
```

### 4. Folder Descriptions
-	.github/
Contains GitHub-related configurations like workflows or issue templates.
-	backups/
Stores exported or backup .sql files for database restoration.
-	coverage/
Auto-generated test coverage reports created by Jest.
-	documentation/
Markdown files or planning notes related to the game’s design and implementation.
-	node_modules/
Automatically generated by npm. Contains all installed dependencies.
-	src/
Main source folder housing all frontend and backend logic.
-	config/ – Database connection setup.
-	public/ – Frontend HTML, CSS, and client-side JavaScript.
-	routes/ – Express route definitions for users, games, and votes.
-	sockets/ – WebSocket logic powered by Socket.IO.
-	utils/ – Reusable backend utilities (e.g., DB logic, role assignment).
-	tests/
Contains unit and integration tests using Jest, Supertest, and JSDOM.
-	package.json / package-lock.json
Dependency definitions and project metadata.
-	server.js
Entry point of the Express application, including HTTP and WebSocket setup.
-	database-backup.sql
SQL dump for restoring the game database.

## 🎮 Game Overview

Suspect 404 is a multiplayer party game of deception, deduction, and social strategy. Each round follows a structured flow:

### 🔐 1. Room Creation & Joining
- A player creates a room and becomes the **host**.
- Others join the room using a **4-character code**.
- The game begins once at least 3 players are present.

### 🎭 2. Role Assignment
- Players are randomly assigned one of the following roles:
  - **Civilian**: Knows the secret word and aims to identify the imposter.
  - **Undercover**: Gets a similar but slightly different word; tries to blend in.
  - **Mr. White** *(only in 4+ player games)*: Gets no word and must improvise.

### 💬 3. Clue Stage
- Each player gives a one-word clue about their secret word.
- Players must be vague enough to avoid detection, but specific enough to seem innocent.

### 🕵️ 4. Discussion & Voting
- After all clues are submitted, players enter a **discussion phase**.
- They then vote to eliminate the player they suspect is **Undercover** or **Mr. White**.
- Ties trigger a revote.
- If **Mr. White** is voted out, they get a **chance to guess the civilian word**.  
  - If they guess correctly, **Mr. White wins** the game.
  - If they guess incorrectly, the game continues.

### 🔄 5. Next Rounds
- The game continues in rounds until:
  - Undercover/Mr. White is eliminated (**Civilians win**), or
  - Only Undercover/Mr. White remains (**Imposters win**).

### 🔧 Admin Features
- Admin login gives access to:
	-	View detailed game logs.
	-	Filter logs by room code, username, or date.
	-	Monitor player actions and game flow 

- Admin login credentials:
Username: admin
Password: admin


